<template name="ApplicationLayout">


    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#navigation">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><span
                        class="glyphicon glyphicon-fire"></span>
                    Firework</a>
            </div>
            <div class="collapse navbar-collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                    <li role="presentation"><a href="{{pathFor route='timeline'}}">Timeline</a></li>
                    {{#if currentUser}}
                        <li role="presentation"><a href="{{pathFor route='add'}}">Add</a></li>
                        <li role="presentation"><a href="{{pathFor route='actors'}}">Actors</a></li>
                        <li role="presentation"><a href="{{pathFor route='account'}}">Account</a></li>
                    {{/if}}
                    {{> loginButtons}}
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3">

                {{#if currentUser}}

                    <div class="panel panel-default">
                        <div class="panel-heading"><span
                                class="glyphicon glyphicon-user"></span> Actors
                        </div>
                        <div class="panel-body">
                            {{> actors_menu}}
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading"><span
                                class="glyphicon glyphicon-play"></span> Actions
                        </div>
                        <div class="panel-body">
                            {{> actions_menu}}
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading"><span
                                class="glyphicon glyphicon-stats"></span> Stats
                        </div>
                        <div class="panel-body">
                            <p>
                                Active Items: {{itemCount}}
                            </p>

                            <p>
                                Archived Items: {{archivedItemCount}}
                            </p>

                            <p>
                                Public Items: {{publicCount}}
                            </p>

                            <p>
                                Private Items: {{privateCount}}
                            </p>
                        </div>
                    </div>
                {{/if}}

            </div>
            <div class="col-sm-9">
                <div class="panel panel-default">
                    <div class="panel-body">
                        {{> yield}}
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <hr/>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-4">
                <ul class="list-unstyled">
                    <li><a href="http://nevill.net/privacy/">Privacy Statement</a></li>
                    <li><a href="#/about">About</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <ul class="list-unstyled">
                    <li>Powered by <a href="https://github.com/JeremyNevill/firework">Firework</a></li>
                    <li>Using <a href="https://github.com/JeremyNevill/shortee">Shortee</a> syntax</li>
                </ul>
            </div>
            <div class="col-sm-4">
                <ul class="list-unstyled">
                    <li>Copyright (c) 2012-2014</li>
                    <li><a href="http://nevill.net">Jeremy Nevill</a></li>
                </ul>
            </div>
        </div>
    </div>

</template>


<template name="add">
    {{#if currentUser}}
        <h2>Add</h2>
        <hr/>

        <form role="form" class="new-item">
            <div class="form-group">
                <input type="text" class="form-control" id="actor" name="actor" placeholder="Actor">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" id="action" name="action" placeholder="Action">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" id="amount" name="amount" placeholder="Amount">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" id="units" name="units" placeholder="Units">
            </div>
            <div class="form-group">
                <input type="text" class="form-control" id="date" name="date" placeholder="Date">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>

        <hr/>
    {{/if}}
</template>


<template name="timeline">
    <h2>Timeline</h2>
    <hr/>

    <table class="table table-striped">
        {{#each items}}
            {{> item}}
        {{/each}}
    </table>
</template>


<template name="home">
    <div class="jumbotron">
        <h1><span class="glyphicon glyphicon-fire"></span> Firework</h1>
    </div>
</template>


<template name="account">
    <h2>Account</h2>
    <hr/>

    <p>
        <label class="hide-archived">
            <input type="checkbox" checked="{{hideArchived}}"/>
            Hide Archived
        </label>
    </p>

</template>


<template name="item">
    <tr>
        <td>
            <h4>
                <a href="{{pathFor route='actors'}}">@{{actor}}</a>
                <a href="{{pathFor route='actions'}}">{{action}}</a>
                {{amount}}{{units}}
                {{dateFormatted}}
            </h4>
        </td>
        <td>
            {{#if isOwner}}
                <button class="toggle-private {{#if private}}btn btn-primary{{else}}btn btn-success{{/if}} btn-sm">
                    {{#if private}}
                        Private
                    {{else}}
                        Public
                    {{/if}}
                </button>
            {{/if}}
        </td>
        <td>
            <button class="delete btn btn-danger btn-sm">&times;</button>
        </td>
    </tr>
</template>


<template name="notFound">
    <div class="not-found jumbotron">
        <h2>404</h2>

        <p>Sorry, we couldn't find a page at this address.</p>
    </div>
</template>

<template name="actors">
    <h2>Actors</h2>
    <hr/>

    {{#each actors}}
        <h3>
            <a href="{{pathFor route='actors'}}">{{actor}}</a>
        </h3>
    {{/each}}
</template>

<template name="actors_menu">
    {{#each actors}}
        <h4>
            <a href="{{pathFor route='actors'}}">{{actor}}</a>
        </h4>
    {{/each}}
</template>

<template name="actions">
    <h2>Actions</h2>
    <hr/>

    {{#each actions}}
        <h3>
            <a href="{{pathFor route='actions'}}">{{action}}</a>
        </h3>
    {{/each}}
</template>

<template name="actions_menu">
    {{#each actions}}
        <h4>
            <a href="{{pathFor route='actions'}}">{{action}}</a>
        </h4>
    {{/each}}
</template>