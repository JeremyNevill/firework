<template name="ApplicationLayout">

    <head>
        <meta charset="utf-8">
        <title>Firework</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>

    <body>

        {{> navbartemplate }}

        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            {{> yield}}
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    {{#if currentUser}}

                    <div class="panel panel-default hidden-xs">
                        <div class="panel-heading"><span class="glyphicon glyphicon-user"></span> Actors
                        </div>
                        <div class="panel-body">
                            {{> actors_menu}}
                        </div>
                    </div>

                    <div class="panel panel-default hidden-xs">
                        <div class="panel-heading"><span class="glyphicon glyphicon-play"></span> Actions
                        </div>
                        <div class="panel-body">
                            {{> actions_menu}}
                        </div>
                    </div>

                    <div class="panel panel-default hidden-xs">
                        <div class="panel-heading"><span class="glyphicon glyphicon-cog"></span> Units
                        </div>
                        <div class="panel-body">
                            {{> units_menu}}
                        </div>
                    </div>

                    <div class="panel panel-default hidden-sm">
                        <div class="panel-heading"><span class="glyphicon glyphicon-stats"></span> Stats
                        </div>
                        <div class="panel-body">
                            <p>
                                Public Items: {{publicCount}}
                            </p>

                            <p>
                                Private Items: {{privateCount}}
                            </p>
                        </div>
                    </div>
                    {{/if}}
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <hr/>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <ul class="list-unstyled">
                        <li><a href="http://nevill.net/privacy/">Privacy Statement</a>
                        </li>
                        <li><a href="#/about">About</a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <ul class="list-unstyled">
                        <li>Powered by <a href="https://github.com/JeremyNevill/firework">Firework</a>
                        </li>
                        <li>Using <a href="https://github.com/JeremyNevill/shortee">Shortee</a> syntax</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <ul class="list-unstyled">
                        <li>Copyright (c) 2012-2015</li>
                        <li><a href="http://nevill.net">Jeremy Nevill</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </body>
</template>

<!-- Navbar -->
<template name="navbartemplate">
    <header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><span
                            class="glyphicon glyphicon-fire"></span>
                        Firework</a>
                </div>
                <div class="collapse navbar-collapse" id="navigation">
                    <ul class="nav navbar-nav navbar-right">
                        <li role="presentation"><a href="{{pathFor route='timeline'}}"><span
                                class="glyphicon glyphicon-time"></span> Timeline</a>
                        </li>
                        {{#if currentUser}}
                        <li role="presentation"><a href="{{pathFor route='add'}}"><span
                                    class="glyphicon glyphicon-plus"></span> Add</a>
                        </li>
                        <li role="presentation"><a href="{{pathFor route='actors'}}"><span
                                    class="glyphicon glyphicon-user"></span> Actors</a>
                        </li>
                        <li role="presentation"><a href="{{pathFor route='actions'}}"><span
                                    class="glyphicon glyphicon-play"></span> Actions</a>
                        </li>
                        <li role="presentation">
                            <a href="{{pathFor route='units'}}">
                                <span class="glyphicon glyphicon-th-large"></span> Units</a>
                        </li>
                        <li role="presentation"><a href="{{pathFor route='account'}}"><span
                                    class="glyphicon glyphicon-cog"></span> Account</a>
                        </li>
                        {{/if}} {{> loginButtons}}
                    </ul>
                </div>
            </div>
        </nav>
    </header>
</template>

<!-- Timeline -->
<template name="timeline">
    <h2><span class="glyphicon glyphicon-time"></span> Timeline</h2>
    <hr/> {{#each items}} {{> item}} {{/each}}

</template>

<!-- Home -->
<template name="home">
    <div class="jumbotron">
        <h1><span class="glyphicon glyphicon-fire"></span> Firework</h1>
    </div>
</template>



<!-- Item -->
<template name="item">
    <div>
        <h4>
            <a href="/actors/{{actor}}">@{{actor}}</a>
            <a href="/actions/{{action}}">{{action}}</a>
            {{amount}} <a href="/units/{{units}}">{{units}}</a>
            {{dateFormatted}}

            {{#if isOwner}}
                <button class="toggle-private {{#if private}}btn btn-primary{{else}}btn btn-success{{/if}} btn-xs">
                    {{#if private}}
                        Private
                    {{else}}
                        Public
                    {{/if}}
                </button>
            
            
            <a href="/items/{{_id}}">
                <button class="edit btn btn-warning btn-xs">Show</button>
            </a>
            <a href="/items/{{_id}}/edit">
                <button class="edit btn btn-warning btn-xs">Edit</button>
            </a>
            <button class="delete btn btn-danger btn-xs">Delete</button>
            
            {{/if}}
            
        </h4>
    </div>
</template>

<template name="add">
    {{#if currentUser}}
    <h2><span class="glyphicon glyphicon-plus"></span> Add</h2>
    <hr/>

    <form role="form" class="new-item">
        <div class="form-group">
            <input type="text" class="form-control" id="actor" name="actor" placeholder="Actor">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="action" name="action" placeholder="Action">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="amount" name="amount" placeholder="Amount">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="units" name="units" placeholder="Units">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="date" name="date" placeholder="Date">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
    </form>

    <hr/> {{/if}}
</template>

<template name="edit">
    {{#with post}}
    <h2><span class="glyphicon glyphicon-plus"></span> Add</h2>
    <hr/>

    <form role="form" class="new-item">
        <div class="form-group">
            <input type="text" class="form-control" id="actor" name="actor" placeholder="Actor" value="{{actor}}">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="action" name="action" placeholder="Action">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="amount" name="amount" placeholder="Amount">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="units" name="units" placeholder="Units">
        </div>
        <div class="form-group">
            <input type="text" class="form-control" id="date" name="date" placeholder="Date">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
    </form>

    <hr/> {{/with}}
</template>

<!-- 404 -->
<template name="notFound">
    <div class="not-found jumbotron">
        <h2>404</h2>

        <p>Sorry, we couldn't find a page at this address.</p>
    </div>
</template>